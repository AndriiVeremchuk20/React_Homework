{"ast":null,"code":"import { v4 as uuid } from 'uuid';\nimport { tasksExample } from \"../../TasksExample\";\nimport { TASK_STATUS } from \"../../types/todoTypes\";\nimport { TODO_ACTIONS } from '../action_types/todo';\nconst initialState = tasksExample;\nexport const todoReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case TODO_ACTIONS.ADD_TASK:\n      const newTask = { ...action.task,\n        id: uuid(),\n        status: TASK_STATUS.Open,\n        creation_date: Date.now(),\n        update_date: null\n      };\n      return [newTask, ...state];\n\n    case TODO_ACTIONS.REMOVE_TASK:\n      return state.filter(task => task.id !== action.id);\n\n    case TODO_ACTIONS.CHANGE_STATUS:\n      return [...state.map(item => {\n        if (item.id === action.id) {\n          item.status = action.newStatus;\n          item.update_date = Date.now();\n        }\n\n        return item;\n      })];\n\n    case TODO_ACTIONS.EDIT_TASK:\n      return state.map(item => {\n        if (item.id === action.id) {\n          item = { ...item,\n            title: action.editetTask.title,\n            description: action.editetTask.description,\n            update_date: Date.now()\n          };\n        }\n\n        return item;\n      });\n\n    case TODO_ACTIONS.SORT_TASKS_CREATE:\n      return [...state.sort((a, b) => b.creation_date - a.creation_date)];\n\n    case TODO_ACTIONS.SORT_TASKS_UPDATE:\n      return [...state.sort((a, b) => {\n        var _b$update_date, _a$update_date;\n\n        return ((_b$update_date = b.update_date) !== null && _b$update_date !== void 0 ? _b$update_date : b.creation_date) - ((_a$update_date = a.update_date) !== null && _a$update_date !== void 0 ? _a$update_date : a.creation_date);\n      })];\n\n    case TODO_ACTIONS.DEFAULT_ORDER:\n      return [...state.sort((a, b) => a.status - b.status)];\n\n    default:\n      return [...state.sort((a, b) => a.status - b.status)];\n  }\n};","map":{"version":3,"names":["v4","uuid","tasksExample","TASK_STATUS","TODO_ACTIONS","initialState","todoReducer","state","action","type","ADD_TASK","newTask","task","id","status","Open","creation_date","Date","now","update_date","REMOVE_TASK","filter","CHANGE_STATUS","map","item","newStatus","EDIT_TASK","title","editetTask","description","SORT_TASKS_CREATE","sort","a","b","SORT_TASKS_UPDATE","DEFAULT_ORDER"],"sources":["/home/andrei/Documents/nix_react/todo_app_redux/src/store/redusers/todo.ts"],"sourcesContent":["import { v4 as uuid } from 'uuid';\nimport { tasksExample } from \"../../TasksExample\";\nimport { Itodo, TASK_STATUS } from \"../../types/todoTypes\";\nimport { TodoActionsTypes, TODO_ACTIONS } from '../action_types/todo';\n\nconst initialState: Itodo[] = tasksExample;\n\nexport const todoReducer = (state: Itodo[] = initialState, action: TodoActionsTypes): Itodo[] => {\n    switch (action.type) {\n        case TODO_ACTIONS.ADD_TASK:\n            const newTask: Itodo = {\n                ...action.task,\n                id: uuid(),\n                status: TASK_STATUS.Open,\n                creation_date: Date.now(),\n                update_date: null\n            }\n            return [newTask, ...state];\n\n        case TODO_ACTIONS.REMOVE_TASK:\n            return state.filter((task) => task.id !== action.id);\n\n        case TODO_ACTIONS.CHANGE_STATUS:\n            return [...state.map((item) => {\n                if (item.id === action.id) {\n                    item.status = action.newStatus;\n                    item.update_date = Date.now();\n                }\n                return item;\n            })];\n\n        case TODO_ACTIONS.EDIT_TASK:\n            return state.map((item) => {\n                if (item.id === action.id) {\n                    item = {\n                        ...item,\n                        title: action.editetTask.title,\n                        description: action.editetTask.description,\n                        update_date: Date.now()\n                    }\n                }\n                return item;\n            })\n\n        case TODO_ACTIONS.SORT_TASKS_CREATE:\n            return [...state.sort((a, b) => b.creation_date - a.creation_date)];\n\n        case TODO_ACTIONS.SORT_TASKS_UPDATE:\n            return [...state.sort((a, b) => (b.update_date ?? b.creation_date) - (a.update_date ?? a.creation_date))];\n\n        case TODO_ACTIONS.DEFAULT_ORDER:\n            return [...state.sort((a, b) => a.status - b.status)];\n\n        default:\n            return [...state.sort((a, b) => a.status - b.status)];\n    }\n}   \n"],"mappings":"AAAA,SAASA,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAAgBC,WAAhB,QAAmC,uBAAnC;AACA,SAA2BC,YAA3B,QAA+C,sBAA/C;AAEA,MAAMC,YAAqB,GAAGH,YAA9B;AAEA,OAAO,MAAMI,WAAW,GAAG,YAAsE;EAAA,IAArEC,KAAqE,uEAApDF,YAAoD;EAAA,IAAtCG,MAAsC;;EAC7F,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKL,YAAY,CAACM,QAAlB;MACI,MAAMC,OAAc,GAAG,EACnB,GAAGH,MAAM,CAACI,IADS;QAEnBC,EAAE,EAAEZ,IAAI,EAFW;QAGnBa,MAAM,EAAEX,WAAW,CAACY,IAHD;QAInBC,aAAa,EAAEC,IAAI,CAACC,GAAL,EAJI;QAKnBC,WAAW,EAAE;MALM,CAAvB;MAOA,OAAO,CAACR,OAAD,EAAU,GAAGJ,KAAb,CAAP;;IAEJ,KAAKH,YAAY,CAACgB,WAAlB;MACI,OAAOb,KAAK,CAACc,MAAN,CAAcT,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACK,EAA1C,CAAP;;IAEJ,KAAKT,YAAY,CAACkB,aAAlB;MACI,OAAO,CAAC,GAAGf,KAAK,CAACgB,GAAN,CAAWC,IAAD,IAAU;QAC3B,IAAIA,IAAI,CAACX,EAAL,KAAYL,MAAM,CAACK,EAAvB,EAA2B;UACvBW,IAAI,CAACV,MAAL,GAAcN,MAAM,CAACiB,SAArB;UACAD,IAAI,CAACL,WAAL,GAAmBF,IAAI,CAACC,GAAL,EAAnB;QACH;;QACD,OAAOM,IAAP;MACH,CANU,CAAJ,CAAP;;IAQJ,KAAKpB,YAAY,CAACsB,SAAlB;MACI,OAAOnB,KAAK,CAACgB,GAAN,CAAWC,IAAD,IAAU;QACvB,IAAIA,IAAI,CAACX,EAAL,KAAYL,MAAM,CAACK,EAAvB,EAA2B;UACvBW,IAAI,GAAG,EACH,GAAGA,IADA;YAEHG,KAAK,EAAEnB,MAAM,CAACoB,UAAP,CAAkBD,KAFtB;YAGHE,WAAW,EAAErB,MAAM,CAACoB,UAAP,CAAkBC,WAH5B;YAIHV,WAAW,EAAEF,IAAI,CAACC,GAAL;UAJV,CAAP;QAMH;;QACD,OAAOM,IAAP;MACH,CAVM,CAAP;;IAYJ,KAAKpB,YAAY,CAAC0B,iBAAlB;MACI,OAAO,CAAC,GAAGvB,KAAK,CAACwB,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACjB,aAAF,GAAkBgB,CAAC,CAAChB,aAAzC,CAAJ,CAAP;;IAEJ,KAAKZ,YAAY,CAAC8B,iBAAlB;MACI,OAAO,CAAC,GAAG3B,KAAK,CAACwB,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ;QAAA;;QAAA,OAAU,mBAACA,CAAC,CAACd,WAAH,2DAAkBc,CAAC,CAACjB,aAApB,uBAAsCgB,CAAC,CAACb,WAAxC,2DAAuDa,CAAC,CAAChB,aAAzD,CAAV;MAAA,CAAX,CAAJ,CAAP;;IAEJ,KAAKZ,YAAY,CAAC+B,aAAlB;MACI,OAAO,CAAC,GAAG5B,KAAK,CAACwB,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAClB,MAAF,GAAWmB,CAAC,CAACnB,MAAlC,CAAJ,CAAP;;IAEJ;MACI,OAAO,CAAC,GAAGP,KAAK,CAACwB,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAClB,MAAF,GAAWmB,CAAC,CAACnB,MAAlC,CAAJ,CAAP;EA9CR;AAgDH,CAjDM"},"metadata":{},"sourceType":"module"}